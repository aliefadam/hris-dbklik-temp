<div class="overlay bg-[rgba(0,0,0,0.7)] fixed top-0 left-0 z-20 w-full h-screen hidden justify-center items-center">
    <div class="w-[50%] animate__animated animate__fadeInDown container-overlay">
        <div class="bg-dbklik px-4 py-3 flex justify-between items-center rounded-tl-lg rounded-tr-lg">
            <h1 class="text-yellow-dbklik text-lg font-semibold">Detail Perizinan</h1>
            <i
                class="bi bi-x-lg text-yellow-dbklik cursor-pointer flex hover:bg-slate-300 hover:text-dbklik duration-200 rounded-full p-3 font-semibold btn-close-overlay"></i>
        </div>
        <div class="bg-gray-100 p-5 rounded-bl-lg rounded-br-lg">
            <div class="flex gap-5">
                <div class="flex-[1] flex flex-col gap-5">
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Nama</span>
                        <span class="overlay-nama text-black drop-shadow-md text-lg leading-none font-medium">Alief
                            Sya'arah
                            Adam</span>
                    </div>
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Izin</span>
                        <span
                            class="overlay-izin text-black drop-shadow-md text-lg leading-none font-medium">Sakit</span>
                    </div>
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Tanggal Diajukan</span>
                        <span
                            class="overlay-tanggal-diajukan text-black drop-shadow-md text-lg leading-none font-medium">Minggu,
                            4 Maret
                            2024 - 09:00</span>
                    </div>
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Catatan</span>
                        <span class="overlay-catatan text-black drop-shadow-md text-lg leading-none font-medium">Lorem
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Asperiores, nam.</span>
                    </div>
                </div>
                <div class="flex-[1] flex flex-col gap-5">
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Tanggal Izin</span>
                        <span class="overlay-tanggal-izin text-black drop-shadow-md text-lg leading-none font-medium">5
                            - 6 Maret
                            2024</span>
                    </div>
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">File Pendukung</span>
                        <span
                            class="overlay-file-pendukung text-black drop-shadow-md text-lg leading-none font-medium">surat-dokter.pdf</span>
                    </div>
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Status</span>
                        <div class="flex items-center">
                            <span class="overlay-status drop-shadow-md text-lg leading-none font-medium capitalize"><i
                                    class="bi bi-check-circle-fill"></i> Disetujui</span> <span
                                class="overlay-disetujui-oleh drop-shadow-md text-lg text-dbklik leading-none font-semibold ml-2 italic"></span>
                        </div>
                    </div>
                    <div class="flex flex-col gap-1 kolom-feedback"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div
    class="overlay-head bg-[rgba(0,0,0,0.7)] fixed top-0 left-0 z-20 w-full h-screen hidden justify-center items-center">
    <div class="w-[50%] animate__animated animate__fadeInDown container-overlay-head">
        <div class="bg-dbklik px-4 py-3 flex justify-between items-center rounded-tl-lg rounded-tr-lg">
            <h1 class="text-yellow-dbklik text-lg font-semibold">Detail Perizinan</h1>
            <i
                class="bi bi-x-lg text-yellow-dbklik cursor-pointer flex hover:bg-slate-300 hover:text-dbklik duration-200 rounded-full p-3 font-semibold btn-close-overlay-head"></i>
        </div>
        <div class="bg-gray-100 p-5 rounded-bl-lg rounded-br-lg">
            <div class="flex gap-5">
                <div class="flex-[1] flex flex-col gap-5">
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Nama</span>
                        <span class="overlay-head-nama text-black drop-shadow-md text-lg leading-none font-medium">Alief
                            Sya'arah
                            Adam</span>
                    </div>
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Izin</span>
                        <span
                            class="overlay-head-izin text-black drop-shadow-md text-lg leading-none font-medium">Sakit</span>
                    </div>
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Tanggal Diajukan</span>
                        <span
                            class="overlay-head-tanggal-diajukan text-black drop-shadow-md text-lg leading-none font-medium">Minggu,
                            4 Maret
                            2024 - 09:00</span>
                    </div>
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Catatan</span>
                        <span
                            class="overlay-head-catatan text-black drop-shadow-md text-lg leading-none font-medium">Lorem
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Asperiores, nam.</span>
                    </div>
                </div>
                <div class="flex-[1] flex flex-col gap-5">
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Tanggal Izin</span>
                        <span
                            class="overlay-head-tanggal-izin text-black drop-shadow-md text-lg leading-none font-medium">5
                            - 6 Maret
                            2024</span>
                    </div>

                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">File Pendukung</span>
                        <span
                            class="overlay-head-file-pendukung text-black drop-shadow-md text-lg leading-none font-medium">surat-dokter.pdf</span>
                    </div>
                    <div class="flex flex-col gap-1">
                        <span class="text-dbklik text-[14px]">Status</span>
                        <div class="flex items-center">
                            <span
                                class="overlay-head-status drop-shadow-md text-lg leading-none font-medium capitalize"><i
                                    class="bi bi-check-circle-fill"></i> Disetujui</span> <span
                                class="overlay-head-disetujui-oleh drop-shadow-md text-lg text-dbklik leading-none font-semibold ml-2 italic"></span>
                        </div>
                    </div>
                    <div class="flex flex-col gap-1 kolom-feedback"></div>
                </div>
            </div>
            <form action="/balas-perizinan/" class="form-balasan" method="post">
                @csrf
                <div class="mt-5 kolom-balasan"></div>
            </form>
        </div>
    </div>
</div>

<div
    class="overlay-resign bg-[rgba(0,0,0,0.7)] fixed top-0 left-0 z-20 w-full h-screen hidden justify-center items-center">
    <div class="w-[40%] animate__animated animate__fadeInDown container-overlay-resign">
        <div class="bg-dbklik px-4 py-3 flex justify-between items-center rounded-tl-lg rounded-tr-lg">
            <h1 class="text-yellow-dbklik text-lg font-semibold">Resign</h1>
            <i
                class="bi bi-x-lg text-yellow-dbklik cursor-pointer flex hover:bg-slate-300 hover:text-dbklik duration-200 rounded-full p-3 font-semibold btn-close-overlay-resign"></i>
        </div>
        <div class="bg-gray-100 p-5 rounded-bl-lg rounded-br-lg">
            <form action="/hr/resign" method="post" enctype="multipart/form-data" class="w-full flex flex-col gap-3">
                @csrf
                <input type="hidden" name="karyawan_id" value="{{ isset($karyawan->id) ? $karyawan->id : '' }}">
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="tanggal_resign" class="text-dbklik">Tanggal Resign</label>
                    <input type="date" name="tanggal_resign" id="tanggal_resign" class="bg-transparent outline-none">
                </div>
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="catatan" class="text-dbklik">Catatan</label>
                    <textarea name="catatan" id="catatan" class="bg-transparent outline-none resize-none h-[150px]"></textarea>
                </div>
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="file_surat" class="text-dbklik">File Surat</label>
                    <input type="file" name="file_surat" id="file_surat" class="outline-none">
                </div>
                <div class="flex justify-end">
                    <button type="submit" class="bg-yellow-dbklik px-10 py-2 rounded-lg font-medium">Simpan</button>
                </div>
            </form>
        </div>
    </div>
</div>


<div
    class="overlay-kontrak bg-[rgba(0,0,0,0.7)] fixed top-0 left-0 z-20 w-full h-screen hidden justify-center items-center">
    <div class="w-[40%] animate__animated animate__fadeInDown container-overlay-kontrak">
        <div class="bg-dbklik px-4 py-3 flex justify-between items-center rounded-tl-lg rounded-tr-lg">
            <h1 class="text-yellow-dbklik text-lg font-semibold">Perpanjang Kontrak</h1>
            <i
                class="bi bi-x-lg text-yellow-dbklik cursor-pointer flex hover:bg-slate-300 hover:text-dbklik duration-200 rounded-full p-3 font-semibold btn-close-overlay-kontrak"></i>
        </div>
        <div class="bg-gray-100 p-5 rounded-bl-lg rounded-br-lg">
            <form action="/hr/updateKontrak" method="post" class="w-full flex flex-col gap-3"
                enctype="multipart/form-data">
                @csrf
                <input type="hidden" name="karyawan_id" id="karyawan_id"
                    value="{{ isset($karyawan->id) ? $karyawan->id : '' }}">
                <div class="flex flex-col gap-1 leading-none">
                    <span class="text-dbklik text-sm">Tanggal Berakhir Kontrak</span>
                    <span
                        class="tanggal_akhir_kontrak text-xl">{{ isset($karyawan->berakhir_kerja) ? Carbon\Carbon::parse($karyawan->berakhir_kerja)->format('d M Y') : '' }}</span>
                </div>
                <div class="flex flex-col gap-1 leading-none">
                    <span class="text-dbklik text-sm">Tanggal Akhir Kontrak Baru</span>
                    <input id="tanggal_akhir_kontrak_baru" name="tanggal_akhir_kontrak_baru"
                        class="font-medium tanggal_akhir_kontrak_baru text-xl bg-transparent" value="-">
                </div>
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="durasi" class="text-dbklik">Durasi</label>
                    <select name="durasi" id="durasi" class="outline-none bg-transparent">
                        <option disabled selected>-- Pilih Durasi --</option>
                        <option value=3>3 Bulan</option>
                        <option value=6>6 Bulan</option>
                        <option value=12>12 Bulan</option>
                        <option value=tetap>Tetap</option>
                    </select>
                </div>
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="file_surat" class="text-dbklik">File Surat</label>
                    <input type="file" name="file_surat" id="file_surat" class="outline-none">
                </div>
                <div class="flex justify-end">
                    <button type="submit" class="bg-yellow-dbklik px-10 py-2 rounded-lg font-medium">Simpan</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div
    class="overlay-catatan bg-[rgba(0,0,0,0.7)] fixed top-0 left-0 z-20 w-full h-screen hidden justify-center items-center">
    <div class="w-[40%] animate__animated animate__fadeInDown container-overlay-catatan">
        <div class="bg-dbklik px-4 py-3 flex justify-between items-center rounded-tl-lg rounded-tr-lg">
            <h1 class="text-yellow-dbklik text-lg font-semibold">Edit Catatan</h1>
            <i
                class="bi bi-x-lg text-yellow-dbklik cursor-pointer flex hover:bg-slate-300 hover:text-dbklik duration-200 rounded-full p-3 font-semibold btn-close-overlay-catatan"></i>
        </div>
        <div class="bg-gray-100 p-5 rounded-bl-lg rounded-br-lg">
            <form action="/hr/updateCatatan/" method="post" class="w-full flex flex-col gap-3">
                @csrf
                <input type="hidden" name="karyawan_id" value="{{ isset($karyawan->id) ? $karyawan->id : '' }}">
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="catatan" class="text-dbklik">Catatan</label>
                    <textarea name="catatan" id="catatan" class="bg-transparent outline-none resize-none h-[150px]">{{ isset($karyawan->catatan) ? $karyawan->catatan : '' }}</textarea>
                </div>
                <div class="flex justify-end">
                    <button type="submit" class="bg-yellow-dbklik px-10 py-2 rounded-lg font-medium">Simpan</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div
    class="overlay-mutasi bg-[rgba(0,0,0,0.7)] fixed top-0 left-0 z-20 w-full h-screen hidden justify-center items-center">
    <div class="w-[40%] animate__animated animate__fadeInDown container-overlay-mutasi">
        <div class="bg-dbklik px-4 py-3 flex justify-between items-center rounded-tl-lg rounded-tr-lg">
            <h1 class="text-yellow-dbklik text-lg font-semibold">Tambah Mutasi</h1>
            <i
                class="bi bi-x-lg text-yellow-dbklik cursor-pointer flex hover:bg-slate-300 hover:text-dbklik duration-200 rounded-full p-3 font-semibold btn-close-overlay-mutasi"></i>
        </div>
        <div class="bg-gray-100 p-5 rounded-bl-lg rounded-br-lg">
            <form action="/hr/tambahMutasi" class="w-full flex flex-col gap-3" method="post"
                enctype="multipart/form-data">
                @csrf
                <input type="hidden" id="karyawan_id" name="karyawan_id"
                    value="{{ isset($karyawan->id) ? $karyawan->id : '' }}">
                <input type="hidden" name="tujuanString" value="">
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="jenis_mutasi" class="text-dbklik">Jenis Mutasi</label>
                    <select name="jenis_mutasi" id="jenis_mutasi" class="outline-none bg-transparent">
                        <option value="pindah-jabatan">Pindah Jabatan</option>
                        <option value="pindah-cabang">Pindah Cabang</option>
                        <option value="pindah-divisi">Pindah Divisi</option>
                        <option value="pindah-sub-divisi">Pindah Sub Divisi</option>
                    </select>
                </div>
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="awal" class="text-dbklik">Awal </label>
                    <input readonly type="text" name="awal" id="awal" class="outline-none bg-transparent"
                        value={{ isset($karyawan) ? $karyawan->jabatan->nama_jabatan : '' }}>
                </div>
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="tujuan" class="text-dbklik">Tujuan</label>
                    <select name="tujuan" id="tujuan" class="outline-none bg-transparent">
                        @if (isset($jabatan))
                            @foreach ($jabatan as $jabatan)
                                <option value={{ $jabatan->id }}>{{ $jabatan->nama_jabatan }}</option>
                            @endforeach
                        @endif
                    </select>
                </div>
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <label for="surat_mutasi" class="text-dbklik">Surat Mutasi</label>
                    <input required type="file" name="surat_mutasi" id="surat_mutasi" class="outline-none">
                </div>
                <div class="flex justify-end">
                    <button class="bg-yellow-dbklik px-10 py-2 rounded-lg font-medium">Tambah</button>
                </div>
            </form>
        </div>
    </div>
</div>

@if (isset($karyawan))
    <div
        class="overlay-edit-profile bg-[rgba(0,0,0,0.7)] fixed top-0 left-0 z-20 w-full h-screen hidden justify-center items-center">
        <div class="w-[50%] animate__animated animate__fadeInDown container-overlay-edit-profile">
            <div class="bg-dbklik px-4 py-3 flex justify-between items-center rounded-tl-lg rounded-tr-lg">
                <h1 class="text-yellow-dbklik text-lg font-semibold">Edit Profile Karyawan</h1>
                <i
                    class="bi bi-x-lg text-yellow-dbklik cursor-pointer flex hover:bg-slate-300 hover:text-dbklik duration-200 rounded-full p-3 font-semibold btn-close-overlay-edit-profile"></i>
            </div>
            <div class="bg-gray-100 p-5 rounded-bl-lg rounded-br-lg h-[50vh] overflow-auto form-edit-profile">
                <form action="/hr/edit-profile-karyawan/{{ $karyawan->id }}" class="w-full" method="post"
                    enctype="multipart/form-data">
                    @csrf
                    <div class="flex gap-3 w-full">
                        <div class="flex flex-col gap-3 w-full">
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="email" class="text-dbklik">Email</label>
                                <input type="text" name="email" id="email"
                                    class="outline-none bg-transparent h-[26px]" value="{{ $karyawan->email }}">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="alamat_domisili" class="text-dbklik">Alamat Domisili</label>
                                <input type="text" name="alamat_domisili" id="alamat_domisili"
                                    class="outline-none bg-transparent h-[26px]"
                                    value="{{ $karyawan->alamat_domisili }}">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="no_telephone" class="text-dbklik">No Telephone</label>
                                <input type="text" name="no_telephone" id="no_telephone"
                                    class="outline-none bg-transparent h-[26px]"
                                    value="{{ $karyawan->no_telephone }}">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="no_whatsapp" class="text-dbklik">No Whatsapp</label>
                                <input type="text" name="no_whatsapp" id="no_whatsapp"
                                    class="outline-none bg-transparent h-[26px]"
                                    value="{{ $karyawan->no_whatsapp }}">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="status_pernikahan" class="text-dbklik">Status Menikah</label>
                                <select name="status_pernikahan" id="status_pernikahan"
                                    class="outline-none bg-transparent h-[26px]">
                                    <option {{ $karyawan->status_pernikahan == 'Belum Menikah' ? 'selected' : '' }}
                                        value="Belum Menikah">Belum Menikah</option>
                                    <option {{ $karyawan->status_pernikahan == 'Sudah Menikah' ? 'selected' : '' }}
                                        value="Sudah Menikah">Sudah Menikah</option>
                                </select>
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="no_bpjs_kes" class="text-dbklik">No BPJS Kesehatan</label>
                                <input type="text" name="no_bpjs_kes" id="no_bpjs_kes"
                                    class="outline-none bg-transparent h-[26px]"
                                    value="{{ $karyawan->no_bpjs_kes }}">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="no_bpjs_ktk" class="text-dbklik">No BPJS Ketenagakerjaan</label>
                                <input type="text" name="no_bpjs_ktk" id="no_bpjs_ktk"
                                    class="outline-none bg-transparent h-[26px]"
                                    value="{{ $karyawan->no_bpjs_ktk }}">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="kontak_darurat" class="text-dbklik">Kontak Darurat</label>
                                <input type="text" name="kontak_darurat" id="kontak_darurat"
                                    class="outline-none bg-transparent h-[26px]"
                                    value="{{ $karyawan->kontak_darurat }}">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="inventaris_kantor" class="text-dbklik">Inventaris Kantor</label>
                                <input type="text" name="inventaris_kantor" id="inventaris_kantor"
                                    class="outline-none bg-transparent h-[26px]"
                                    value="{{ $karyawan->inventaris_kantor }}">
                            </div>
                        </div>
                        <div class="flex flex-col gap-3 w-full">
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="cv_file" class="text-dbklik">CV</label>
                                <input type="file" name="cv_file" id="cv_file"
                                    class="outline-none text-sm file:text-sm h-[26px]"
                                    value="{{ asset('storage/upload/file_pendukung/1_2024-03-17_00-49-39.pdf') }}">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="ksk_file" class="text-dbklik">KSK</label>
                                <input type="file" name="ksk_file" id="ksk_file"
                                    class="outline-none text-sm file:text-sm h-[26px]">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="ijazah_file" class="text-dbklik">Ijazah</label>
                                <input type="file" name="ijazah_file" id="ijazah_file"
                                    class="outline-none text-sm file:text-sm h-[26px]">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="transkrip_nilai_file" class="text-dbklik">Transkrip Nilai</label>
                                <input type="file" name="transkrip_nilai_file" id="transkrip_nilai_file"
                                    class="outline-none text-sm file:text-sm h-[26px]">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="ktp_file" class="text-dbklik">KTP</label>
                                <input type="file" name="ktp_file" id="ktp_file"
                                    class="outline-none text-sm file:text-sm h-[26px]">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="bpjs_ktk_file" class="text-dbklik">BPJS Ketenagakerjaan</label>
                                <input type="file" name="bpjs_ktk_file" id="bpjs_ktk_file"
                                    class="outline-none text-sm file:text-sm h-[26px]">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="bpjs_kes_file" class="text-dbklik">BPJS Kesehatan</label>
                                <input type="file" name="bpjs_kes_file" id="bpjs_kes_file"
                                    class="outline-none text-sm file:text-sm h-[26px]">
                            </div>
                            <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                                <label for="referensi_kerja_file" class="text-dbklik">Surat Referensi Kerja</label>
                                <input type="file" name="referensi_kerja_file" id="referensi_kerja_file"
                                    class="outline-none text-sm file:text-sm h-[26px]">
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-end mt-3">
                        <button class="bg-yellow-dbklik px-10 py-2 rounded-lg font-medium">Simpan</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
@endif

<div
    class="overlay-edit-foto bg-[rgba(0,0,0,0.7)] fixed top-0 left-0 z-20 w-full h-screen hidden justify-center items-center">
    <div class="w-[30%] animate__animated animate__fadeInDown container-overlay-edit-foto">
        <div class="bg-dbklik px-4 py-3 flex justify-between items-center rounded-tl-lg rounded-tr-lg">
            <h1 class="text-yellow-dbklik text-lg font-semibold">Edit Foto</h1>
            <i
                class="bi bi-x-lg text-yellow-dbklik cursor-pointer flex hover:bg-slate-300 hover:text-dbklik duration-200 rounded-full p-3 font-semibold btn-close-overlay-edit-foto"></i>
        </div>
        <div class="bg-gray-100 p-5 rounded-bl-lg rounded-br-lg">
            <form action="/edit-foto" method="post" enctype="multipart/form-data">
                @csrf
                <div class="flex flex-col gap-1 border border-dbklik p-3 rounded-md">
                    <input type="file" accept="image/*" name="edit_foto" id="edit_foto"
                        class="outline-none bg-transparent">
                </div>
                <div class="after-select hidden">
                    <div class="mt-3 flex justify-center">
                        <div class="w-[250px] h-[250px] rounded-full shadow-lg">
                            <img src="{{ asset('imgs/profil.png') }}"
                                class="object-cover w-full h-full foto-preview rounded-full">
                        </div>
                    </div>
                    <div class="mt-5">
                        <button class="bg-yellow-dbklik px-10 py-3 rounded-lg font-medium w-full"><i
                                class="bi bi-floppy"></i>
                            Simpan Foto</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    $("#edit_foto").on("change", function() {
        const reader = new FileReader();
        reader.onload = ({
            target
        }) => {
            $(".foto-preview").attr("src", target.result);
        }
        reader.readAsDataURL(this.files[0]);
        $(".after-select").show();
    });
</script>

<script>
    function setTujuanString(select) {
        const opt = select.find("option:selected").text();
        $("input[name=tujuanString]").val(opt);
    }

    $("select[name=tujuan]").on("change", function() {
        const opt = $(this).find("option:selected").text();
        $("input[name=tujuanString]").val(opt);
    })

    $("select[name=jenis_mutasi]").on("change", function() {
        $.ajaxSetup({
            headers: {
                "X-CSRF-TOKEN": $("meta[name=csrf-token]").attr("content"),
            }
        })
        $.ajax({
            url: "/hr/mutasi",
            type: "POST",
            data: {
                jenis_mutasi: $(this).val(),
                karyawan_id: $("#karyawan_id").val(),
            },
            beforeSend: function() {
                $("#awal").val("Loading..");
                $("#tujuan").html("<option value=''>Loading..</option>");
            },
            success: function(res) {
                $("select#tujuan").html("");
                $("input#awal").val(res.awal);
                if (res.jenis_mutasi == "pindah-cabang") {
                    $.each(res.akhir, function(i, opt) {
                        $("select#tujuan").append(
                            `<option value="${opt.id}">${opt.nama_cabang}</option>`);
                    });

                    $("input[name=tujuanString]").val(res.akhir[0].nama_cabang);
                } else if (res.jenis_mutasi == "pindah-divisi") {
                    $.each(res.akhir, function(i, opt) {
                        $("select#tujuan").append(
                            `<option value="${opt.id}">${opt.nama_divisi}</option>`);
                    });
                    $("input[name=tujuanString]").val(res.akhir[0].nama_divisi);
                } else if (res.jenis_mutasi == "pindah-sub-divisi") {
                    $.each(res.akhir, function(i, opt) {
                        $("select#tujuan").append(
                            `<option value="${opt.id}">${opt.nama_sub_divisi}</option>`);
                    });
                    $("input[name=tujuanString]").val(res.akhir[0].nama_sub_divisi);
                } else if (res.jenis_mutasi == "pindah-jabatan") {
                    $.each(res.akhir, function(i, opt) {
                        $("select#tujuan").append(
                            `<option value="${opt.id}">${opt.nama_jabatan}</option>`);
                    });
                    $("input[name=tujuanString]").val(res.akhir[0].nama_jabatan);
                }
            },
            error: function(e) {
                console.log(e);
            }
        })
    });

    $("select[name=durasi]").on("change", function() {
        $.ajaxSetup({
            headers: {
                "X-CSRF-TOKEN": $("meta[name=csrf-token]").attr("content"),
            }
        })
        $.ajax({
            url: "/hr/kontrak",
            type: "POST",
            data: {
                durasi: $(this).val(),
                karyawan_id: $("#karyawan_id").val(),
            },
            success: function(res) {
                $("input[name=tanggal_akhir_kontrak_baru]").val(res.tanggal_baru);
            }
        })
    });
</script>
